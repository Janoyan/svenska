<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Audio Practice App</title>
    <style>
        html { background: #000; }
        .correct { background-color: #d4ff5e; }
        .incorrect { background-color: #f3a5a5; }
        button {
            background: none;
            outline: none;
            border: none;
            color: white;
        }
        #translationDiv {
            text-align: center;
            font-size: 30px;
            color: #ffffff;
            background-color: #000000;
        }
        body {
            font-family: sans-serif;
            margin: auto;
            padding: 1px;
        }
        input {
            width: 80%;
            margin: 10px auto;
            padding: 23px;
            font-size: 5em;
            text-align: center;
            border: none;
            outline: none;
            letter-spacing: 4px;
            color: rgb(100 177 255);
            font-weight: bold;
            display: block;
            background: none;
            border-radius: 10px;
        }
        button { padding: 10px 20px; font-size: 1em; }
        .hidden { display: none; }
        .mistake {
            margin-bottom: 10px;
            background: #ffe0e0;
            padding: 10px;
        }
        #loadingContainer { margin: 20px 0; }
        #image {
            max-width: 300px;
            margin: auto;
            display: none;
        }
        @keyframes pulseScale {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        .repeat-animation {
            animation: pulseScale 1s ease-in-out infinite;
        }
        #animationIframe {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: -1;
            border: none;
        }
        audio {
            margin: auto;
            display: block;
            opacity: 0;
        }
        audio:hover {
            margin: auto;
            display: block;
            opacity: .5;
        }
        #score {
            color: #ffffff;
            font-weight: bold;
            text-align: center;
        }
        #appContainer {
            margin-top: 200px;
        }
    </style>
</head>
<body>

<iframe id="animationIframe"></iframe>
<button onclick="toggleFullScreen()" style="position: fixed; top: 10px; right: 10px; z-index: 9999;">ðŸ”³ Fullscreen</button>

<div id="appContainer">
    <p id="score"></p>
    <div id="loadingContainer">
        <p id="loadingText">Loading data...</p>
        <progress id="loadingProgress" value="0" max="100" style="width: 100%;"></progress>
    </div>

    <audio id="audio" controls></audio>

    <!-- Feedback sounds (base64-encoded) -->
    <audio id="correctSound" src="data:audio/mpeg;base64,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" preload="auto"></audio>
    <audio id="wrongSound" src="data:audio/mpeg;base64,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" preload="auto"></audio>

    <form id="answerForm" class="hidden">
        <label>
            <input type="text" id="textInput" required>
            <div id="translationDiv"></div>
        </label>
        <div id="charCount" style="text-align: center; font-size: 1.2em;"></div>
    </form>

    <div id="results" class="hidden">
        <h2>âœ… Completed!</h2>
        <h3>Mistakes:</h3>
        <div id="mistakeList"></div>
    </div>
</div>

<script>
    window.addEventListener('beforeunload', function (e) {
        e.preventDefault();
        e.returnValue = ''; // Required for Chrome, Firefox, etc.
    });

    let currentMaxLength = 0;
    let currentTypings = 0;
    const AMOUNT = 100;
    const DATA_URL = `./jsons/current.json`;
    const answerForm = document.getElementById('answerForm');
    const textInput = document.getElementById('textInput');
    const audioEl = document.getElementById('audio');
    const animationIframe = document.getElementById('animationIframe');

    const resultsDiv = document.getElementById('results');
    const scoreEl = document.getElementById('score');
    const mistakeList = document.getElementById('mistakeList');
    const charCount = document.getElementById('charCount');
    const translationDiv = document.getElementById('translationDiv');


    let data = [];
    let jsonData = [];
    let tasks = [];
    let currentIndex = 0;
    let userAnswers = [];
    const taskAttemptCount = new Map();

    let replayTimeout;

    function startReplayTimer() {
        clearInterval(replayTimeout);
        replayTimeout = setInterval(async () => {
            audioEl.currentTime = 0;
            await playAsync(audioEl);
            startReplayTimer();
        }, 5000);
    }

    textInput.addEventListener("input", () => {
        clearInterval(replayTimeout);
        startReplayTimer();
    });

    function toggleFullScreen() {
        const doc = window.document;
        const docEl = doc.documentElement;

        const requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
        const cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

        if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
            requestFullScreen.call(docEl);
        } else {
            cancelFullScreen.call(doc);
        }
    }

    document.addEventListener('fullscreenchange', () => {
        const isFullscreen = document.fullscreenElement != null;
        const btn = document.querySelector('button[onclick="toggleFullScreen()"]');
        if (isFullscreen) {
            btn.textContent = 'âŒ Exit Fullscreen';
        } else {
            btn.textContent = 'ðŸ”³ Fullscreen';
        }
    });



    textInput.addEventListener('keyup', (e) => {
        if (/^[a-zA-Z]$/.test(e.key)) {
            currentTypings++;
        }
        const remaining = currentMaxLength - currentTypings;

        if (remaining > 0 && remaining < 3) {
            charCount.textContent = `${remaining}`;
        } else  {
            charCount.textContent = ``;
        }

        const currentTask = tasks[currentIndex];
        const userText = textInput.value.trim();
        const {correct: isCorrect, incorrect} = compare(userText, currentTask);

        if (isCorrect) {
            textInput.style.color = 'rgb(92 249 102)';
            textInput.disabled = true;
            setTimeout(() => {
                submitForm()
            }, 200)
            return;
        } else {
            textInput.style.color = 'rgb(100 177 255)';
        }

        if (remaining <= 0) {
            textInput.disabled = true;
            textInput.style.color = 'rgb(221,11,11)';
            setTimeout(() => {
                submitForm()
            }, 500)
            return;
        }

        if (textInput.value === 'x' || incorrect) {
            textInput.disabled = true;
            textInput.style.color = 'rgb(221,11,11)';
            submitForm()
        }
    });


    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    async function loadTask(index) {
        clearInterval(replayTimeout);


        const task = tasks[index];

        audioEl.src = task.audioToPlay;
        textInput.value = "";
        translationDiv.innerHTML = '';
        textInput.disabled = false;
        textInput.focus();

        // Set max length based on task.text.length + 30%
        const baseLength = task.text.length;
        currentMaxLength = baseLength + 3;
        currentTypings = 0;

        scoreEl.textContent = `Done: ${index}  (${data.length} /${jsonData.length})`;

        await playAsync(audioEl);
        startReplayTimer();
    }

    function goToNextTask() {
        currentIndex++;
        if (currentIndex < tasks.length) {
            loadTask(currentIndex);
        } else {
            showResults();
        }
    }

    function showResults() {
        clearInterval(replayTimeout);
        answerForm.classList.add('hidden');
        audioEl.classList.add('hidden');
        resultsDiv.classList.remove('hidden');

        const table = document.createElement('table');
        table.border = '1';
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const header = `
            <tr>
                <th>Word</th>
                <th>Attempt 1</th>
                <th>Attempt 2</th>
            </tr>
        `;
        table.innerHTML = header;

        const correctAnswers = [];
        for (const [key, answer] of taskAttemptCount.entries()) {
            const task = tasks.find(t => t.id === key);
            const correctText = task.text;

            const answeredCorrectly = compare(answer, task).correct;
            if (answeredCorrectly) {
                correctAnswers.push(task.id);
            }


            const row = document.createElement('tr');
            row.innerHTML = `
                <td class="${
                answeredCorrectly ? 'correct' : 'incorrect'
            }"  onclick="practice('${task.text}')">${task.text}/${task.translation}</td>
                <td class="${answeredCorrectly ? 'correct' : 'incorrect'}">${answer}</td>
            `;
            table.appendChild(row);
        }

        mistakeList.innerHTML = '';
        mistakeList.appendChild(table);


        setAnswers(getSavedAnswers().concat(correctAnswers))

    }

    function playAsync(audio) {
        return new Promise(resolve => {
            audio.play();
            audio.onended= resolve;
        })
    }

    async function submitForm() {
        const currentTask = tasks[currentIndex];
        const key = currentTask.id;
        const userText = textInput.value.trim();

        taskAttemptCount.set(key, userText);
        userAnswers.push({ task: currentTask, userText });

        const { correct } = compare(userText, currentTask);

        // Play correct or wrong sound
        const correctSound = document.getElementById('correctSound');
        const wrongSound = document.getElementById('wrongSound');
        if (correct) {
            playAsync(correctSound);
        } else {
            await playAsync(wrongSound);
        }

        const COUNT = 1;
        let count = 0;

        const playSequence = async () => {
            if (count >= COUNT) {
                textInput.classList.remove('repeat-animation');
                setTimeout(() => {
                    goToNextTask();
                }, 500);
                return;
            }

            textInput.value = `${currentTask.text}`;
            textInput.classList.add('repeat-animation');

            const audio = new Audio(currentTask.audio);
            audio.playbackRate = correct ? 1.5 : 1;
            await playAsync(audio);

            const audio2 = new Audio(currentTask.armAudio);
            audio2.playbackRate = correct ? 1.2 : 1;
            await playAsync(audio2);

            count++;
            return playSequence();
        };

        await playSequence();
    }

    answerForm.addEventListener('submit', (e) => {
        e.preventDefault();
    });

    const loadingContainer = document.getElementById('loadingContainer');
    const loadingProgress = document.getElementById('loadingProgress');
    const loadingText = document.getElementById('loadingText');

    fetch(DATA_URL)
        .then(async response => {
            if (!response.ok) throw new Error('Network response was not ok');

            const contentLength = response.headers.get('Content-Length');
            if (!contentLength) {
                throw new Error('Content-Length header is missing. Real progress not possible.');
            }

            const total = parseInt(contentLength, 10);
            const reader = response.body.getReader();
            const chunks = [];
            let receivedLength = 0;

            while (true) {
                const { done, value } = await reader.read();
                if (done) break;
                chunks.push(value);
                receivedLength += value.length;

                const percent = Math.round((receivedLength / total) * 100);
                loadingProgress.value = percent;
                loadingText.textContent = `Loading data... ${percent}%`;
            }

            // Combine chunks and decode
            const blob = new Blob(chunks);
            const text = await blob.text();
            jsonData = JSON.parse(text);

            // Proceed as usual after loading
            const savedAnswers = getSavedAnswers();
            data = jsonData.filter((item) => !savedAnswers.includes(item.id));

            scoreEl.textContent = `Done: ${currentIndex}  (${data.length} /${jsonData.length})`;

            shuffle(data);
            const selected = data.slice(0, AMOUNT);

            selected.forEach(item => {
                if (Math.random() > 0.5) {
                    tasks.push({ ...item, audioToPlay: item.armAudio });
                } else {
                    tasks.push({ ...item, audioToPlay: item.audio });
                }
            });

            shuffle(tasks);

            answerForm.classList.remove('hidden');
            loadTask(currentIndex);
            loadingContainer.classList.add('hidden');
        })
        .catch(err => {
            loadingText.textContent = 'âŒ Failed to load data.';
            console.error(err);
        });


    function compare(userText, task) {
        if (!userText) {
            return false;
        }
        const possibleAnswers = jsonData.filter((item) => {
            const separateTranslations = item.translation.split(',')
                .concat(item.translation.split('.'))
                .concat(item.translation.split('/'))
                .map(tt => tt.trim().toLowerCase());

            const taskTranslations = task.translation.split(',')
                .concat(task.translation.split('.'))
                .concat(task.translation.split('/'))
                .map(tt => tt.trim().toLowerCase());
            return taskTranslations.some((tt) => separateTranslations.includes(tt));
        });

        const userInputText = userText.toLowerCase().replace(/^\s*to\s+/i, '').trim();

        return {
            correct: possibleAnswers.some((item) => item.text.toLowerCase().replace(/^\s*to\s+/i, '').trim() === userInputText),
            incorrect: possibleAnswers.every((item) => !item.text.toLowerCase().trim().includes(userInputText)),
        };
    }

    function getSavedAnswers() {
        return JSON.parse(localStorage.getItem('correctAnswers') ?? '[]')
    }

    function setAnswers(answers) {
        localStorage.setItem('correctAnswers', JSON.stringify(answers));
    }

    function practice(phrase) {
        window.open(`./practice.html?phrase=${encodeURIComponent(phrase)}`, '_blank');
    }
</script>

</body>
</html>
